<h1 class="text-2xl font-bold border-b pb-2 mb-5">Create player</h1>

<form [formGroup]="form">
  <div class="flex flex-row gap-3 flex-grow w-full items-end">
    <div class="grow">
      <label for="name">Name</label>
      <input
        #name
        type="text"
        id="name"
        formControlName="name"
        placeholder="Fill with the name of the player..."
        class="mt-1 block w-full transition rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
      />
    </div>

    <button
      type="submit"
      (click)="create()"
      [disabled]="form.invalid"
      class="h-min bg-transparent transition disabled:text-slate-500 disabled:ring-0 disabled:cursor-not-allowed disabled:border-slate-500 disabled:hover:bg-transparent active:ring hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
    >
      Add player
    </button>
  </div>
</form>

<div id="players-list" class="mt-8">
  <ng-container *ngIf="players?.length; else empty">
    <table class="min-w-full">
      <thead class="bg-slate-100 border-b border-slate-200">
        <tr>
          <th
            scope="col"
            class="px-6 py-3 text-left text-sm font-medium text-slate-900 w-0"
          >
            ID
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-sm font-medium text-slate-900"
          >
            Name
          </th>

          <th
            scope="col"
            class="px-6 py-3 text-left text-sm font-medium text-slate-900 w-0"
          ></th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let player of players"
          class="odd:bg-white even:bg-slate-50"
        >
          <ng-container *ngIf="players.length; else empty">
            <td
              class="px-6 py-4 w-min whitespace-nowrap text-sm font-medium text-slate-900"
            >
              {{ player.id }}
            </td>

            <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600">
              {{ player.name }}
            </td>

            <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600">
              <button
                type="button"
                (click)="remove(player.id)"
                class="flex flex-row items-center gap-2 h-min bg-transparent disabled:hover:bg-transparent transition active:ring hover:bg-red-500 text-red-500 font-semibold hover:text-white py-1 px-4 border border-red-500 hover:border-transparent rounded"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-4 h-4"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                  />
                </svg>

                Remove
              </button>
            </td>
          </ng-container>
        </tr>

        <tr>
          <td
            class="px-6 py-4 w-min whitespace-nowrap text-sm font-medium text-slate-900 text-center"
            colspan="3"
          >
            {{ players.length }} players created
          </td>
        </tr>
      </tbody>
    </table>
  </ng-container>

  <ng-template #empty>
    <div
      class="flex flex-col p-7 gap-3 border-dashed cursor-pointer transition border-slate-300 border rounded-md hover:bg-slate-200 text-center items-center"
      (click)="name.focus()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"
        />
      </svg>

      Please, create you first player to display here!
    </div>
  </ng-template>
</div>

<div id="generate-matches" class="mt-6">
  <button
    type="submit"
    (click)="create()"
    [disabled]="form.invalid"
    class="w-full h-min bg-transparent transition disabled:text-slate-500 disabled:ring-0 disabled:cursor-not-allowed disabled:border-slate-500 disabled:hover:bg-transparent active:ring hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
  >
    Generate matches
  </button>
</div>
